
  <style>
      h3 {
        font-family: "Rockwell Extra Bold", "Rockwell Bold", monospace;
      	font-size: 24px;
      	font-style: normal;
      	font-variant: normal;
      	font-weight: 500;
      	line-height: 26.4px;
        text-align:center;
      }
      body{
        background-image: url('<%= asset_path("ukulele.jpg")%>');
        background-repeat: repeat;
      }
    .jumbotron{
        color: black;
        background-color: white;
        border-radius: 15%;
        z-index:1;
        position:absolute;
        margin-left: -5%;
        margin-top: 5%;
        /*height:600px;*/
        min-width:xxx;
        text-align: left;
        min-height: xxx;
        overflow: hidden;
      }
      .button1 {
        background: #8cd934;
        margin-left: 33%;
        margin-top:100%;
        -webkit-border-radius: 60;
        -moz-border-radius: 60;
        border-radius: 60px;
        box-shadow: 5px 5px 5px #666666;
        font-family: Courier New;
        color: #ffffff;
        font-size: 34px;
        padding: 11px 20px 10px 21px;
        text-decoration: none;
      }
      .button1:hover {
        background: #497840;
        background-image: -webkit-linear-gradient(top, #497840, #446641);
        background-image: -moz-linear-gradient(top, #497840, #446641);
        background-image: -ms-linear-gradient(top, #497840, #446641);
        background-image: -o-linear-gradient(top, #497840, #446641);
        background-image: linear-gradient(to bottom, #497840, #446641);
        text-decoration: none;
      }
      #content {
         position: relative;
         float: left;
         width: 30%;

     }
      .button2 {
        background-color:  #F8F9FF;
        border-radius: 10%;
        margin-left: 30%;
        border-color:black;
      }
      ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
      }
      /*link_to "See Session", session, class: 'button2'*/

    </style>


  <body>

    <%@jam_sessions.each do |jam_session|%>
      <%= render 'jam_sessions/jam_modal', jam_session: jam_session %>
    <% end %>

    <%= render 'jam_sessions/create_jam_modal' %>

    <div class="center jumbotron" id="content">
      <%=form_for_filterrific @filterrific do |f| %>

      <div>
        Address
        <%= f.text_field(
          :search_query,
          class: 'filterrific-periodically-observed',
          :placeholder => "**default address here**"
        )%>
      </div>
      play
     <%=check_box("application", "choice", {:multiple => true}, true, nil) %>
     listen
     <%=check_box("application", "choice", {:multiple => true}, false, nil)%>
      <div>
        Search
        <%= f.text_field(
          :search_query,
          class: 'filterrific-periodically-observed',
          :placeholder => "search genre, name .."
        )%>
      </div>

    <div>
      <br>
      <%= link_to(
        'Reset filters',
        reset_filterrific_url,
      ) %>
    </div>
  <%# add an automated spinner to your form when the list is refreshed %>
  <%= render_filterrific_spinner %>
    <!-- make it work! -->
  <% end %>
  <br><br>
  <br>
  <h3>
    <strong>
      Music Around You
    </strong>
  </h3>
  <br>
  <%= render(
    partial: 'jam_sessions/list',
    locals: { jam_sessions: @jam_sessions }
  ) %>
  <br><br>


</div>
<div style='width=100%;margin=50; margin-top=0; '>
    <div id="map" style='width: 70%; height: 800px; min-height: xxx; overflow: hidden; float: right;'></div>
</div>
  <div class="center jumbotron" id="content">
    <h3>
      <strong>
        Your Sessions
      </strong>
    </h3>
    <div>
      <%= render(
        partial: 'jam_sessions/yoursessions',
        locals: { jam_sessions: @jam_sessions }
      ) %>
  </div>
  <br><br>
  <div>
    <%= link_to "+", "#modal-to-create-jam_session", "data-toggle" => "modal", class: 'button1'%>
  </div>


</div>
<%= render 'jam_sessions/tabs_index_modal'%>
<%= link_to 'Chords', "#modal-for-tab-index", "data-toggle" => "modal" %>
</div>
<%@jam= JamSession.last%>
<%@jam_sessions.each do |jam_session|%>
  <%= render 'jam_sessions/jam_modal', jam_session: jam_session %>
<% end %>

<%=render 'jam_sessions/jam_modal',jam_session: @jam%>;
<script type="text/javascript">

var locations = [];

<% @jam_sessions.each do |location| %>
  var place = [<%= location.latitude %>, <%= location.longitude %>];
  locations.push(place);
<% end %>
// link_to marker, "#modal-for-jam_session\\:#{23}", "data-toggle" => "modal"

  function initMap(){

      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 13,
        center: new google.maps.LatLng(42.37, -71.2),
        mapTypeId: google.maps.MapTypeId.ROADMAP
      });

      // var infowindow = new google.maps.InfoWindow();
      var contentString= '<div id="content">'+
       '<div id="siteNotice">'+
       '</div>'+
       '<h1 id="firstHeading" class="firstHeading">Uluru</h1>'+
       '<div id="bodyContent">'+
       '<p><b>Uluru</b>, also referred to as <b>Ayers Rock</b>, is a large ' +
       'sandstone rock formation in the southern part of the '+
       'Northern Territory, central Australia. It lies 335&#160;km (208&#160;mi) '+
       'south west of the nearest large town, Alice Springs; 450&#160;km '+
       '(280&#160;mi) by road. Kata Tjuta and Uluru are the two major '+
       'features of the Uluru - Kata Tjuta National Park. Uluru is '+
       'sacred to the Pitjantjatjara and Yankunytjatjara, the '+
       'Aboriginal people of the area. It has many springs, waterholes, '+
       'rock caves and ancient paintings. Uluru is listed as a World '+
       'Heritage Site.</p>'+
       '<p>Attribution: Uluru, <a href="https://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">'+
       'https://en.wikipedia.org/w/index.php?title=Uluru</a> '+
       '(last visited June 22, 2009).</p>'+
       '</div>'+
       '</div>';
       var infowindow = new google.maps.InfoWindow({
        content: contentString
       });
      var marker, i;

      for (i = 0; i < locations.length; i++) {
        marker = new google.maps.Marker({
          position: new google.maps.LatLng(locations[i][0], locations[i][1]),
          map: map,
       });
       marker.addListener('click', function() {
         infowindow.open(map, marker);
       });
     }

    // google.maps.event.addListener(marker, 'click', (function(marker, i) {
    //   return function() {
    //     // infowindow.setContent(locations[i][0]);
    //     infowindow.open(map, marker);
    //   }
    //   // map.panTo(locations[i][0]);
    // })(marker, i));
    // marker.addListener('click', function() {
    //   infowindow.open(map, marker);
    // });
  }
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD_E9YsDaw5Jfj1HC4WKNjepV_maFzCVAQ&callback=initMap"
type="text/javascript"></script>
</body>
