
  <style>
      /*#map {
        height: 800px;
        width: 1300px;
        margin-left:-10%;
        /*margin-right:20%;*/
        /*margin-top: 5%;*/
      /*}*/
      h3 {
        font-family: "Rockwell Extra Bold", "Rockwell Bold", monospace;
      	font-size: 24px;
      	font-style: normal;
      	font-variant: normal;
      	font-weight: 500;
      	line-height: 26.4px;
        text-align:center;
      }
      body{
        background-image: url('<%= asset_path("ukulele.jpg")%>');
        background-repeat: repeat;
      }
    .jumbotron{
        color: black;
        background-color: white;
        border-radius: 15%;
        z-index:1;
        position:absolute;
        margin-left: -5%;
        margin-top: 10%;
        /*height:600px;*/
        width:300px;
        text-align: left;
        min-height: xxx;
        overflow: hidden;

      }
      li{
        /*margin-left: 5%;*/
      }
      .button1 {
        background: #8cd934;
        margin-left: 33%;
        margin-top:100%;
        /*background-image: -webkit-linear-gradient(top, #8cd934, #558f46);*/
        /*background-image: -moz-linear-gradient(top, #8cd934, #558f46);*/
        /*background-image: -ms-linear-gradient(top, #8cd934, #558f46);
        background-image: -o-linear-gradient(top, #8cd934, #558f46);
        background-image: linear-gradient(to bottom, #8cd934, #558f46);*/
        -webkit-border-radius: 60;
        -moz-border-radius: 60;
        border-radius: 60px;
        /*-webkit-box-shadow: 5px 5px 5px #666666;
        -moz-box-shadow: 5px 5px 5px #666666;*/
        box-shadow: 5px 5px 5px #666666;
        font-family: Courier New;
        color: #ffffff;
        font-size: 34px;
        padding: 11px 20px 10px 21px;
        text-decoration: none;

      }

      .button1:hover {
        background: #497840;
        background-image: -webkit-linear-gradient(top, #497840, #446641);
        background-image: -moz-linear-gradient(top, #497840, #446641);
        background-image: -ms-linear-gradient(top, #497840, #446641);
        background-image: -o-linear-gradient(top, #497840, #446641);
        background-image: linear-gradient(to bottom, #497840, #446641);
        text-decoration: none;
      }
      .button2 {
        background-color:  #F8F9FF;
        border-radius: 10%;
        margin-left: 30%;
        border-color:black;
      }
      ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
      }
      /*link_to "See Session", session, class: 'button2'*/

    </style>


  <body>

    <%@jam_sessions.each do |jam_session|%>
      <%= render 'jam_sessions/jam_modal', jam_session: jam_session %>
    <% end %>

    <div class="center jumbotron">
      <br>
      <h3>
        <strong>
          Music Around You
        </strong>
      </h3>
      <br><br>
      <% @jam_sessions.each do |session| %>
        <br>
        <div class='row'>
          <div class='col-sm-12'>
          <%= image_tag User.find(id=session.host_id).avatar.url(:thumb) %>
        </div>
          <div class='col-sm-9'>
            <%= link_to session.name, "#jam-modal-#{session.id}", "data-toggle" => "modal" %>
          </div>

          <div class='col-sm-3'>
            <%= link_to "Join", guest_session_association_path(id:session.id,player:TRUE), class: 'button2' %>
          </div>
        </div>
      <%end%>
      <%= will_paginate @jam_sessions %>

      <br><br><br><br>
      <%= link_to "+", new_jam_session_path, class: 'button1' %>

      </div>

</div>

<div style='width=100%;margin=0; margin-top=0; '>
    <div id="map" style='width=100%; height: 1000px; min-height: xxx; overflow: hidden;'></div>
</div>

<script type="text/javascript">

var locations = [];

<% @jam_sessions.each do |location| %>
  var place = [<%= location.latitude %>, <%= location.longitude %>];
  locations.push(place);
<% end %>

  function initMap(){

      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 13,
        center: new google.maps.LatLng(42.37, -71.2),
        mapTypeId: google.maps.MapTypeId.ROADMAP
      });

      var infowindow = new google.maps.InfoWindow();

      var marker, i;

      for (i = 0; i < locations.length; i++) {
        marker = new google.maps.Marker({
          position: new google.maps.LatLng(locations[i][0], locations[i][1]),
          map: map
       });

  }


    google.maps.event.addListener(marker, 'click', (function(marker, i) {
      return function() {
        infowindow.setContent(locations[i][0]);
        infowindow.open(map, marker);
      }
    })(marker, i));
  }
</script>




    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD_E9YsDaw5Jfj1HC4WKNjepV_maFzCVAQ&callback=initMap"
     type="text/javascript"></script>
  </body>
